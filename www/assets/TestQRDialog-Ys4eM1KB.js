import{b as Q,r as t,aj as v,j as e,ae as S,e as k,B as a,af as O,bB as D,C as h,M as u,N as p,O as w,f as j,Q as r,E as T,F as E,G as _,H as F,J as q,bG as B,aK as A,bD as z,D as M,l as P,ak as H}from"./index-DJafiPoS.js";function $(){const b=Q(),[o,c]=t.useState(!1),[i,l]=t.useState(!1),[f,y]=t.useState(!0),d=t.useRef(null),x=t.useRef(null),[g,R]=t.useState(null),[N,C]=t.useState(null),s={event_code:"PARTY2024",passcode:"1234",event_name:"Sarah & Mike Wedding ðŸ’",join_url:"https://photo-share.app/join/PARTY2024",header_image_url:"https://images.unsplash.com/photo-1519741497674-611481863552?w=800&auto=format&fit=crop"};return t.useEffect(()=>{if(o&&!g){console.log("[TestQR] Creating bottom sheet QR code instance");const n=new v({width:240,height:240,type:"svg",data:`${s.join_url}?passcode=${s.passcode}`,image:"/favicon.ico",dotsOptions:{color:"hsl(217, 91%, 60%)",type:"rounded"},backgroundOptions:{color:"hsl(240, 10%, 3.9%)"},imageOptions:{crossOrigin:"anonymous",margin:5},cornersSquareOptions:{color:"hsl(330, 85%, 60%)",type:"extra-rounded"},cornersDotOptions:{color:"hsl(270, 95%, 75%)",type:"dot"}});R(n);const m=setTimeout(()=>{d.current&&(console.log("[TestQR] Appending bottom sheet QR code to DOM"),n.append(d.current))},50);return()=>clearTimeout(m)}},[o,g,s.join_url,s.passcode]),t.useEffect(()=>{if(i&&!N){console.log("[TestQR] Creating fullscreen QR code instance");const n=new v({width:320,height:320,type:"svg",data:`${s.join_url}?passcode=${s.passcode}`,image:"/favicon.ico",dotsOptions:{color:"hsl(217, 91%, 60%)",type:"rounded"},backgroundOptions:{color:"hsl(240, 10%, 3.9%)"},imageOptions:{crossOrigin:"anonymous",margin:5},cornersSquareOptions:{color:"hsl(330, 85%, 60%)",type:"extra-rounded"},cornersDotOptions:{color:"hsl(270, 95%, 75%)",type:"dot"}});C(n);const m=setTimeout(()=>{x.current&&(console.log("[TestQR] Appending fullscreen QR code to DOM"),n.append(x.current))},50);return()=>clearTimeout(m)}},[i,N,s.join_url,s.passcode]),e.jsxs(S,{children:[e.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50",children:e.jsx(k,{variant:"destructive",className:"text-xs font-semibold",children:"TEST MODE"})}),e.jsx("div",{className:"sticky top-0 z-40 bg-background/80 backdrop-blur-md border-b border-border",children:e.jsx("div",{className:"container mx-auto px-4 py-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(a,{variant:"ghost",size:"sm",onClick:()=>b("/styles"),className:"gap-2",children:[e.jsx(O,{className:"w-4 h-4"}),"Back to Styles"]})})})}),e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[e.jsx(D,{title:"QR Code Dialog",subtitle:"Test the QR code display dialog for event sharing"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(h,{children:[e.jsxs(u,{children:[e.jsx(p,{children:"Test Controls"}),e.jsx(w,{children:"Open the QR code in different views"})]}),e.jsxs(j,{className:"space-y-3",children:[e.jsxs(a,{onClick:()=>c(!0),className:"w-full",children:[e.jsx(r,{className:"w-4 h-4 mr-2"}),"Open QR Bottom Sheet"]}),e.jsxs(a,{onClick:()=>l(!0),variant:"secondary",className:"w-full",children:[e.jsx(r,{className:"w-4 h-4 mr-2"}),"Open QR Fullscreen"]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:f,onChange:n=>y(n.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm",children:"Mock Admin/Owner Status"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Toggle to test Full Screen button visibility"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[e.jsx("p",{children:e.jsx("strong",{children:"Features to test:"})}),e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:"QR code generation and display"}),e.jsx("li",{children:"Event details overlay"}),e.jsx("li",{children:"Share functionality"}),e.jsx("li",{children:"Download QR code"}),e.jsx("li",{children:"Copy join link"}),e.jsx("li",{children:"Bottom sheet for quick access"}),e.jsx("li",{children:"Fullscreen for presentation"}),e.jsx("li",{children:"Mobile responsive design"}),e.jsx("li",{children:"Admin/Owner-only Full Screen button"})]})]})]})]}),e.jsxs(h,{children:[e.jsxs(u,{children:[e.jsx(p,{children:"Mock Event Information"}),e.jsx(w,{children:"Data used in the QR code dialog"})]}),e.jsxs(j,{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Event Code:"}),e.jsx("span",{className:"font-mono font-semibold",children:s.event_code})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Passcode:"}),e.jsx("span",{className:"font-mono font-semibold",children:s.passcode})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Event Name:"}),e.jsx("span",{className:"font-medium",children:s.event_name})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Join URL:"}),e.jsx("span",{className:"font-mono text-xs break-all",children:s.join_url})]})]})]}),e.jsxs(h,{children:[e.jsx(u,{children:e.jsx(p,{children:"Design System Notes"})}),e.jsxs(j,{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsx("p",{children:"âœ… Uses qr-code-styling library for generation"}),e.jsx("p",{children:"âœ… Bottom sheet for quick sharing"}),e.jsx("p",{children:"âœ… Fullscreen for presentation mode"}),e.jsx("p",{children:"âœ… Action buttons with semantic icons"}),e.jsx("p",{children:"âœ… Event details card overlay"}),e.jsx("p",{children:"âš ï¸ Review: QR code size and padding"}),e.jsx("p",{children:"âš ï¸ Review: Background styling (dark/light modes)"}),e.jsx("p",{children:"âš ï¸ Review: Button placement and hierarchy"}),e.jsx("p",{children:"âš ï¸ Review: Mobile layout optimization"}),e.jsx("p",{children:"âš ï¸ Review: Custom QR code branding support"})]})]})]})]}),e.jsx(T,{open:o,onOpenChange:c,children:e.jsxs(E,{className:"font-outfit",children:[e.jsxs(_,{children:[e.jsxs(F,{className:"flex items-center gap-2",children:[e.jsx(r,{className:"h-5 w-5"}),"Share Event"]}),e.jsx(q,{children:"Scan the QR code or share the event link to invite guests"})]}),e.jsxs("div",{className:"space-y-6 py-6 px-4",children:[e.jsx("div",{className:"flex flex-col items-center justify-center p-6 bg-muted/30 rounded-lg",children:e.jsx("div",{className:"p-3 bg-background rounded-lg shadow-sm border border-primary/20",children:e.jsx("div",{ref:d,"data-qr":"sheet",className:"w-[240px] h-[240px]"})})}),e.jsx("div",{className:"space-y-2",children:e.jsx("h3",{className:"text-lg font-semibold text-center",children:s.event_name})}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs(a,{variant:"outline",className:"w-full",size:"sm",children:[e.jsx(B,{className:"h-4 w-4 mr-1"}),"Copy"]}),e.jsxs(a,{variant:"outline",className:"w-full",size:"sm",children:[e.jsx(A,{className:"h-4 w-4 mr-1"}),"Download"]}),e.jsxs(a,{variant:"outline",className:"w-full",size:"sm",children:[e.jsx(z,{className:"h-4 w-4 mr-1"}),"Share"]})]}),f&&e.jsxs(a,{className:"w-full",onClick:()=>{c(!1),l(!0)},children:[e.jsx(r,{className:"h-4 w-4 mr-2"}),"Full Screen QR Code"]})]})]})}),e.jsx(M,{open:i,onOpenChange:l,children:e.jsx(P,{className:"max-w-[100vw] w-full h-[100vh] p-0 border-0 font-outfit [&>button]:hidden",children:e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-4 sm:p-8 relative bg-background",children:[e.jsx("button",{onClick:()=>l(!1),className:"absolute top-4 left-4 p-2 hover:opacity-70 transition-opacity z-10","aria-label":"Close fullscreen",children:e.jsx(H,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex flex-col items-center justify-center max-w-lg mx-auto w-full space-y-4 sm:space-y-6 px-4",children:[e.jsx("div",{className:"p-4 sm:p-8 bg-muted/30 rounded-2xl shadow-2xl border border-primary/20",children:e.jsx("div",{ref:x,"data-qr":"fullscreen",className:"w-[280px] h-[280px] sm:w-[320px] sm:h-[320px]"})}),e.jsxs("div",{className:"text-center space-y-3 sm:space-y-4 w-full",children:[e.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold",children:s.event_name}),e.jsxs("div",{className:"space-y-3 bg-muted/50 rounded-lg p-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Event Code"}),e.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl font-bold font-mono tracking-wider",children:s.event_code})]}),e.jsxs("div",{className:"pt-2 border-t border-border",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Passcode"}),e.jsx("p",{className:"text-lg sm:text-xl md:text-2xl font-bold font-mono tracking-wider",children:s.passcode})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Scan to join or enter the code above"})]})]})]})})})]})}export{$ as default};
