import{b as j,r as n,j as e,ae as u,e as g,B as c,af as f,bB as b,C as t,M as a,N as r,O as l,f as i,A as y,av as w}from"./index-DJafiPoS.js";function C(){const d=j(),[m,s]=n.useState(!1),[o,h]=n.useState(!0),[p,N]=n.useState("PhotoShare needs camera access to capture photos at this event.");return e.jsxs(u,{children:[e.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50",children:e.jsx(g,{variant:"destructive",className:"text-xs font-semibold",children:"TEST MODE"})}),e.jsx("div",{className:"sticky top-0 z-40 bg-background/80 backdrop-blur-md border-b border-border",children:e.jsx("div",{className:"container mx-auto px-4 py-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(c,{variant:"ghost",size:"sm",onClick:()=>d("/styles"),className:"gap-2",children:[e.jsx(f,{className:"w-4 h-4"}),"Back to Styles"]})})})}),e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[e.jsx(b,{title:"Camera Permission Prompt",subtitle:"Test the camera permission request dialog"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(t,{children:[e.jsxs(a,{children:[e.jsx(r,{children:"Test Controls"}),e.jsx(l,{children:"Configure and open the camera permission prompt"})]}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"can-prompt",checked:o,onChange:x=>h(x.target.checked),className:"rounded"}),e.jsx("label",{htmlFor:"can-prompt",className:"text-sm cursor-pointer",children:'Can prompt for permission (if unchecked, shows "Open Settings" instead)'})]}),e.jsxs(c,{onClick:()=>s(!0),className:"w-full",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Show Camera Permission Prompt"]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[e.jsx("p",{children:e.jsx("strong",{children:"Features to test:"})}),e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:"Dialog appearance and backdrop"}),e.jsx("li",{children:"Icon and title display"}),e.jsx("li",{children:"Permission explanation message"}),e.jsx("li",{children:'"Allow Camera Access" button (when canPrompt=true)'}),e.jsx("li",{children:'"Open Settings" button (when canPrompt=false)'}),e.jsx("li",{children:"Close button functionality"}),e.jsx("li",{children:"Mobile responsive layout"})]})]})]})]}),e.jsxs(t,{children:[e.jsxs(a,{children:[e.jsx(r,{children:"Permission States"}),e.jsx(l,{children:"Different states of camera permission"})]}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"1. Not Requested (canPrompt=true)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:`User hasn't been asked for permission yet. Show "Allow Camera Access" button which triggers the system permission dialog.`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"2. Denied (canPrompt=false)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:`User previously denied permission or can't be prompted. Show "Open Settings" button which opens device settings where user can manually enable permission.`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"3. Granted"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Permission is granted. This prompt shouldn't be shown - user can access camera directly."})]})]})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(r,{children:"Design System Notes"})}),e.jsxs(i,{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsx("p",{children:"✅ Uses Dialog component from shadcn/ui"}),e.jsx("p",{children:"✅ Camera icon with primary color background"}),e.jsx("p",{children:"✅ Clear title and description"}),e.jsx("p",{children:"✅ Conditional button rendering based on permission state"}),e.jsx("p",{children:"✅ Semantic tokens for colors"}),e.jsx("p",{children:"⚠️ Review: Dialog width on mobile (currently w-[90vw])"}),e.jsx("p",{children:"⚠️ Review: Icon background styling"}),e.jsx("p",{children:"⚠️ Review: Button hierarchy (primary vs secondary)"}),e.jsx("p",{children:"⚠️ Review: Message text clarity"})]})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(r,{children:"Usage Notes"})}),e.jsxs(i,{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"When to show:"})," Display this prompt when the user tries to access the camera but hasn't granted permission yet."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Native vs Web:"})," On native platforms (iOS/Android), this integrates with Capacitor's Camera plugin. On web, it uses the browser's permission API."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"canPrompt parameter:"}),' Set to false after first denial to show "Open Settings" instead of trying to prompt again (which would fail).']})]})]})]})]}),e.jsx(w,{isOpen:m,onClose:()=>s(!1),onRequestPermission:()=>{console.log("Requesting camera permission..."),s(!1)},onOpenSettings:()=>{console.log("Opening device settings..."),s(!1)},message:p,canPrompt:o})]})}export{C as default};
