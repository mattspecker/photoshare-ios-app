import{b as j,r as t,j as e,ae as g,e as y,B as l,af as b,bB as f,C as i,M as r,N as n,O as c,f as a,k as N,bH as w}from"./index-PUmVADdG.js";function C(){const d=j(),[h,s]=t.useState(!1),[o,p]=t.useState(!0),[m,v]=t.useState("Photo Library Access Required"),[x,P]=t.useState("Please allow access to photos in your settings to use this feature.");return e.jsxs(g,{children:[e.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50",children:e.jsx(y,{variant:"destructive",className:"text-xs font-semibold",children:"TEST MODE"})}),e.jsx("div",{className:"sticky top-0 z-40 bg-background/80 backdrop-blur-md border-b border-border",children:e.jsx("div",{className:"container mx-auto px-4 py-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(l,{variant:"ghost",size:"sm",onClick:()=>d("/styles"),className:"gap-2",children:[e.jsx(b,{className:"w-4 h-4"}),"Back to Styles"]})})})}),e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[e.jsx(f,{title:"Photo Library Permission Prompt",subtitle:"Test the photo library/gallery permission request dialog"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(i,{children:[e.jsxs(r,{children:[e.jsx(n,{children:"Test Controls"}),e.jsx(c,{children:"Configure and open the photo library permission prompt"})]}),e.jsxs(a,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"can-prompt",checked:o,onChange:u=>p(u.target.checked),className:"rounded"}),e.jsx("label",{htmlFor:"can-prompt",className:"text-sm cursor-pointer",children:'Can prompt for permission (if unchecked, shows "Open Settings" instead)'})]}),e.jsxs(l,{onClick:()=>s(!0),className:"w-full",children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),"Show Photo Library Permission Prompt"]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[e.jsx("p",{children:e.jsx("strong",{children:"Features to test:"})}),e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:"Dialog appearance and backdrop"}),e.jsx("li",{children:"Icon and title display"}),e.jsx("li",{children:"Permission explanation message"}),e.jsx("li",{children:'"Allow Photo Library Access" button (when canPrompt=true)'}),e.jsx("li",{children:'"Open Settings" button (when canPrompt=false)'}),e.jsx("li",{children:"Close button functionality"}),e.jsx("li",{children:"Mobile responsive layout"})]})]})]})]}),e.jsxs(i,{children:[e.jsxs(r,{children:[e.jsx(n,{children:"Permission States"}),e.jsx(c,{children:"Different states of photo library permission"})]}),e.jsxs(a,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"1. Not Requested (canPrompt=true)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:`User hasn't been asked for permission yet. Show "Allow Photo Library Access" button which triggers the system permission dialog.`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"2. Denied (canPrompt=false)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:`User previously denied permission or can't be prompted. Show "Open Settings" button which opens device settings where user can manually enable permission.`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"3. Limited (iOS only)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:'iOS users can grant "limited" access to only selected photos. May need to prompt to select more photos or grant full access.'})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"4. Granted"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Full permission is granted. This prompt shouldn't be shown - user can access photo library directly."})]})]})]}),e.jsxs(i,{children:[e.jsx(r,{children:e.jsx(n,{children:"Design System Notes"})}),e.jsxs(a,{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsx("p",{children:"✅ Uses Dialog component from shadcn/ui"}),e.jsx("p",{children:"✅ Image icon with primary color background"}),e.jsx("p",{children:"✅ Clear title and description"}),e.jsx("p",{children:"✅ Conditional button rendering based on permission state"}),e.jsx("p",{children:"✅ Semantic tokens for colors"}),e.jsx("p",{children:"⚠️ Review: Dialog width on mobile (currently w-[90vw])"}),e.jsx("p",{children:"⚠️ Review: Icon background styling consistency with camera prompt"}),e.jsx("p",{children:"⚠️ Review: Button hierarchy (primary vs secondary)"}),e.jsx("p",{children:"⚠️ Review: Message text clarity"})]})]}),e.jsxs(i,{children:[e.jsx(r,{children:e.jsx(n,{children:"Usage Notes"})}),e.jsxs(a,{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"When to show:"})," Display this prompt when the user tries to select photos from their gallery but hasn't granted permission yet."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Native vs Web:"})," On native platforms (iOS/Android), this integrates with Capacitor's Camera plugin photo picker. On web, it's usually not needed as browsers handle file picker permissions automatically."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"iOS Limited Access:"}),' iOS has a unique "Limited Photos" permission where users can select specific photos. Consider handling this state separately.']}),e.jsxs("p",{children:[e.jsx("strong",{children:"canPrompt parameter:"}),' Set to false after first denial to show "Open Settings" instead of trying to prompt again.']})]})]})]})]}),e.jsx(w,{isOpen:h,onClose:()=>s(!1),onRequestPermission:()=>{console.log("Requesting photo library permission..."),s(!1)},onOpenSettings:()=>{console.log("Opening device settings..."),s(!1)},message:x,canPrompt:o,title:m})]})}export{C as default};
